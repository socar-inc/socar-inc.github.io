---
layout: post
title: "React Icon Component 개발기"
subtitle: "React Icon Component 개발기"
date: 2022-07-06 09:00:00 +0900
category: dev
background: '/img/reservation-tetris/background.jpg'
author: sienna, blanc
comments: true
tags:
    - web
    - frontend
    - react
    - design system

---

안녕하세요. 쏘카 웹 프론트엔드 개발자 시에나, 블랑입니다.

이 글에 다룰 내용은 쏘카에서 공통적으로 사용하는 **웹 아이콘 컴포넌트 개발 과정**입니다. 아이콘 컴포넌트를 어떻게 개발했으며 어떤 점들을 개선했는지에 대해서 중점적으로 다룰 예정입니다.

다음과 같은 분들이 읽어보시면 좋을 것 같습니다.

- 웹 프론트엔드 개발자, 웹 디자이너
- 웹 개발에 관심이 있으신 분
- 쏘카 웹프론트엔드 팀이 궁금하신 분

---

## 목차

- [아이콘 컴포넌트 개발 배경](#아이콘-컴포넌트-개발-배경)
    - [기존 방식의 문제점](#기존-방식의-문제점)
    - [개선하고자 한 점](#개선하고자-한-점)
- [아이콘 컴포넌트 개발 과정](#아이콘-컴포넌트-개발-과정)
    - 
- [아이콘 컴포넌트 도입 효과](#아이콘-컴포넌트-도입-효과)
    - 
- [추후 개선점](#추후-개선점)
- [마무리](#마무리)

---

## 아이콘 컴포넌트 개발 배경 <a name="아이콘-컴포넌트-개발-배경" />

쏘카의 디자인 시스템은 디자이너, Ios 개발자 Android 개발자, 웹프론트엔드 개발자가 협업하여 구축했습니다. 사용자가 일관된 UI/UX를 경험할 수 있도록 Ios, Android, 웹에서 모두 같은 형태의 컴포넌트들을 개발하여 사용합니다.

이 디자인시스템에 이번 글에서 다룰 아이콘 또한 등록이 되어있었습니다.

*참고: [[SOCAR FRAME 만들기 #1] 쏘카의 디자인 시스템 맛보기](/design/2020/06/23/socar-design-system-01.html)*

### 기존 방식의 문제점 <a name="기존-방식의-문제점" />

기존에는 쏘카에서 아이콘을 폰트로 변환하여 사용하고 있었습니다. 변환 과정을 설명하고 기존 방식이 어떤 문제가 있었는지에 대해 말씀드리겠습니다.

**변환 과정**

1. svg → 웹폰트 변환
    
    ![image](https://user-images.githubusercontent.com/72717402/177696944-f89f054a-c1e3-4ead-a248-63cbc03376b3.png)
    
    > 외부 서비스를 이용해서 아이콘 svg 파일들을 웹폰트로 변환합니다.
    
2. 생성된 파일 등록
    
    ![image](https://user-images.githubusercontent.com/72717402/177697047-02241121-1daa-4e24-abb3-3ff264c049a9.png)
    
    ![image](https://user-images.githubusercontent.com/72717402/177697098-8f2beef8-9f3c-4cbd-b0a1-ceb8b3162a30.png)
    
    > 웹폰트로 변환하면 폰트 파일과 css 파일이 생성됩니다.
    
    <div style="display: flex; justify-content: space-between;">
        <img width="60%" src="https://user-images.githubusercontent.com/72717402/177697181-5bb3f5f6-49e6-499f-82b5-0bb702a43c75.png" />
        <img width="35%" src="https://user-images.githubusercontent.com/72717402/177697213-24b9d90c-1379-441c-b25f-c808b738c965.png" />
    </div>
    
    > 생성된 파일들을 디자인 시스템 저장소에 넣어줍니다. 이 때, 폰트에 원하는 컬러를 주입할 수 있도록 하기 위해 css 파일의 color 속성을 제거해줍니다.
    
3. 디자인시스템 배포
    - 아이콘 폰트 등록이 완료되었으면, 디자인시스템의 배포를 진행합니다. 이 때, 디자인시스템을 사용중인 모든 서비스들도 디자인시스템 버전을 최신화해서 같이 배포를 진행합니다.

**문제점**

기존 방식을 사용하면서 겪은 문제점은 다음과 같습니다.

- 외부 서비스에 의존적이다.
    - 위에서 설명 드렸듯이, svg 파일 -> 웹폰트 변환 과정은 외부 서비스에 전적으로 의존하고 있었습니다. 해당 서비스의 기능이 변경되거나 서비스를 종료하기라도 한다면 기존의 방식으로는 아이콘 등록을 못하게 될 수도 있는 위험성이 있습니다.

- 휴먼에러가 발생할 여지가 많다.
    - 아이콘 등록하는 전 과정을 수기로 진행하고 있었는데, 어느 한 과정이라도 누락하거나 실수가 발생하면 아이콘이 제대로 등록되지 않거나 실 서비스 화면에서 아이콘이 깨져 보이게 됩니다.

- 아이콘 폰트 자체의 문제점
    - 글꼴 파일을 불러오고 빌드하는 시간이 소요된다.
    - 웹 접근성이 좋지 않다.
    - 화면을 확대하면 화질 저하가 발생한다.
    - 텍스트 기반 css 규칙을 따르기 때문에 css 컨트롤이 어렵다.
    

### 개선하고자 한 점 <a name="개선하고자-한-점" />

위와 같은 문제점들을 겪으면서 디자인시스템에 아이콘을 등록하는 방식 자체를 개선해야겠다고 생각했습니다. 개선의 목표는

- 아이콘 등록 과정의 간소화
- 아이콘 등록 방식의 자동화

정도로 생각하고, 위의 목표를 달성하면서도 기존에 사용중인 아이콘들에 영향을 미치지 않는 방식으로 개선을 시도했습니다.

---

## 아이콘 컴포넌트 개발 과정 <a name="아이콘-컴포넌트-개발-과정" />

---

## 아이콘 컴포넌트 도입 효과 <a name="아이콘-컴포넌트-도입-효과" />

---

## 추후 개선점 <a name="추후-개선점" />

- 피드백 받고 추가 예정

- [SVGR](https://react-svgr.com/docs/webpack/) 을 활용해 svg 파일 파싱

![image](https://user-images.githubusercontent.com/72717402/177893564-f4a60a71-90dc-4f7a-bcc3-6ff4a2536c6a.png)

---

## 마무리 <a name="마무리" />
